@namespace("io.simplesource.kafka.protocol")
protocol SimpleSourcing {

  record UpdateSuccess {
    long writeSequence;
  }

  error UpdateFailure {
    string errorCode;
    string errorMessage;
  }

  record CommandResponse {
    string commandId;
    long readSequence;
    union { UpdateSuccess, UpdateFailure } result;
  }

}